<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>çŒ®ç»™ä½ çš„é‚£å¥è¯</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  
  <link rel="preload" as="image" href="bg-deco.png">

  <style>
    /* --- åŸºç¡€è®¾ç½® --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body {
      margin: 0;
      font-family: "PingFang SC", "Microsoft YaHei", -apple-system, sans-serif;
      color: #5d5d5d;
      background: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: default; 
      user-select: none; 
    }

    /* --- èƒŒæ™¯å±‚ --- */
    .bg-gradient-layer {
      position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
      background: radial-gradient(circle, rgba(255,230,230,0.4) 0%, rgba(230,240,255,0.4) 50%, rgba(240,255,240,0.4) 100%);
      opacity: 0.6; z-index: -5;
      animation: breatheBg 15s infinite alternate ease-in-out;
      will-change: transform; 
    }
    @keyframes breatheBg { 0% { transform: scale(1); } 100% { transform: scale(1.05); } }

    body::before {
      content: ""; position: fixed; inset: 0; pointer-events: none;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
      z-index: -4; opacity: 0.6;
    }

    .bg-pattern-layer {
      position: fixed; inset: 0; z-index: -3;
      background-image: url('bg-combo.png'); 
      background-repeat: repeat; 
      background-size: 300px auto; 
      filter: saturate(0.8); pointer-events: none;
      opacity: 0; animation: bgFadeIn 2s ease-out forwards;
    }
    @keyframes bgFadeIn { from { opacity: 0; transform: scale(1.05); } to { opacity: 0.15; transform: scale(1); } }

    /* ç»„ä»¶æ ·å¼ */
    .time-widget {
      position: fixed; top: 20px; right: 20px; z-index: 100;
      background: rgba(255, 255, 255, 0.8); padding: 8px 16px; border-radius: 50px;
      border: 1px solid rgba(255, 255, 255, 0.9); box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      font-family: "Georgia", "Songti SC", serif; color: #8c7767; font-size: 15px; font-weight: 500; letter-spacing: 1px;
      animation: fadeIn 2s ease; display: flex; align-items: center; gap: 6px;
    }
    .time-widget::before { content: ""; display: inline-block; width: 8px; height: 8px; border: 1px solid #8c7767; border-radius: 50%; margin-top: -1px; }

    .music-btn {
      position: fixed; top: 20px; left: 20px; z-index: 100;
      width: 36px; height: 36px; background: rgba(255, 255, 255, 0.8);
      border-radius: 50%; border: 1px solid rgba(255, 255, 255, 0.9);
      display: flex; justify-content: center; align-items: center; cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05); animation: fadeIn 2s ease;
    }
    .music-icon { font-size: 18px; animation: spin 4s linear infinite; animation-play-state: paused; }
    .music-playing .music-icon { animation-play-state: running; }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* è£…é¥°å…ƒç´  */
    .side-deco {
        position: fixed; bottom: 0; z-index: -2; opacity: 0.5;
        pointer-events: auto; cursor: pointer; transition: opacity 0.3s, transform 0.3s; color: #b0a497;
    }
    .side-deco:hover { opacity: 0.8; }
    .sd-left { left: -20px; transform-origin: bottom left; animation: swayLeft 8s ease-in-out infinite alternate; }
    .sd-right { right: -20px; transform-origin: bottom right; animation: swayRight 9s ease-in-out infinite alternate; z-index: -1; }
    
    .sd-right-layer2 { 
        right: -50px; bottom: -30px;
        transform-origin: bottom right; 
        animation: swayRightSlow 12s ease-in-out infinite alternate-reverse; 
        z-index: -3; 
        color: #a09487; 
        opacity: 0.4; 
        transform: scale(1.2); 
    }

    @keyframes swayLeft { 0% { transform: rotate(0deg); } 100% { transform: rotate(3deg); } }
    @keyframes swayRight { 0% { transform: rotate(0deg); } 100% { transform: rotate(-3deg); } }
    @keyframes swayRightSlow { 0% { transform: rotate(0deg) scale(1.2); } 100% { transform: rotate(-2deg) scale(1.2); } }

    .firefly {
      position: fixed; width: 4px; height: 4px; background-color: #ffd700; border-radius: 50%;
      box-shadow: 0 0 10px #ffd700; opacity: 0; z-index: -2;
      animation: fly 10s infinite ease-in-out; pointer-events: none;
    }
    .ff-1 { top: 20%; left: 20%; animation-duration: 12s; animation-delay: 0s; }
    .ff-2 { top: 60%; left: 80%; animation-duration: 15s; animation-delay: 2s; }
    .ff-3 { top: 80%; left: 30%; animation-duration: 18s; animation-delay: 4s; }
    .ff-4 { top: 30%; right: 20%; animation-duration: 20s; animation-delay: 1s; }
    @keyframes fly { 0% { transform: translate(0, 0); opacity: 0; } 50% { opacity: 0.8; } 100% { transform: translate(40px, -60px); opacity: 0; } }

    /* ç²’å­ç‰¹æ•ˆ */
    .deco-particle {
        position: fixed; width: 6px; height: 6px; border-radius: 50%;
        background: #ffd700; pointer-events: none; z-index: 90;
        animation: particleFade 1.2s ease-out forwards;
    }
    .deco-star {
        position: fixed; font-size: 10px; color: #ffd700;
        pointer-events: none; z-index: 90;
        animation: particleFade 1.5s ease-out forwards;
    }
    @keyframes particleFade {
        0% { transform: translate(0, 0) scale(0.5); opacity: 1; }
        100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }

    .click-word {
      position: fixed; font-size: 16px; font-weight: 500; color: #8c7767; 
      pointer-events: none; z-index: 100; opacity: 0;
      animation: wordFloat 1.5s ease-out forwards;
      font-family: "Georgia", "Songti SC", serif; 
      text-shadow: 0 1px 2px rgba(255,255,255,0.8);
    }
    @keyframes wordFloat {
      0% { transform: translateY(0) scale(0.8); opacity: 0; }
      20% { transform: translateY(-10px) scale(1.1); opacity: 1; }
      100% { transform: translateY(-50px) scale(1); opacity: 0; }
    }

    /* å½©è›‹æ‰è½ */
    .falling-emoji {
      position: fixed; top: -50px; font-size: 30px; z-index: 200; pointer-events: none;
      animation: dropDown 2s ease-in forwards;
    }
    @keyframes dropDown { 0% { top: -50px; transform: rotate(0deg); } 100% { top: 100vh; transform: rotate(360deg); } }

    /* å¸ƒå±€ */
    .container { width: 100%; max-width: 900px; padding: 40px 24px 60px; display: flex; flex-direction: column; flex: 1; position: relative; z-index: 2; }
    
    .header { margin-bottom: 32px; text-align: left; animation: fadeInDown 0.8s ease-out; position: relative; z-index: 5; }
    
    .title { 
      font-size: 36px; font-weight: 700; color: #2c3e50; 
      letter-spacing: 2px; margin-bottom: 8px; cursor: pointer;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.05); transition: transform 0.2s;
    }
    .title:active { transform: scale(0.95); }

    .subtitle { font-size: 24px; color: #666; font-weight: 400; letter-spacing: 1.5px; transition: opacity 0.5s; margin-top: 12px; }

    .main-layout { display: flex; align-items: center; justify-content: center; gap: 40px; flex: 1; }

    .side-text {
      writing-mode: vertical-rl; text-orientation: mixed;
      font-family: "Georgia", "Songti SC", serif; 
      color: #8c7767; font-size: 18px; letter-spacing: 8px; opacity: 0.7; font-weight: 500;
      height: fit-content; border-right: 1px solid rgba(140, 119, 103, 0.2); 
      padding-right: 15px; animation: fadeIn 1.5s ease;
    }
    .side-text.right { border-right: none; border-left: 1px solid rgba(140, 119, 103, 0.2); padding-right: 0; padding-left: 15px; }
    @media (max-width: 850px) { 
        .side-text { display: none; } 
        .container { max-width: 680px; }
        .side-deco svg { width: 120px; height: auto; }
        .sd-right-layer2 svg { width: 150px; height: auto; }
    }

    /* å¡ç‰‡ */
    .card-wrapper { flex: 1; display: flex; flex-direction: column; justify-content: center; width: 100%; max-width: 480px; perspective: 1000px; }
    .card {
      background: rgba(255, 255, 255, 0.94); 
      border-radius: 24px; padding: 32px;
      box-shadow: 0 15px 35px -5px rgba(50, 50, 93, 0.1), 0 10px 20px -10px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(255, 255, 255, 1); 
      position: relative; transition: all 0.3s ease; margin-bottom: 24px;
      will-change: transform, opacity, box-shadow, border-color; 
    }
    .jelly-anim { animation: jelly 0.5s; }
    @keyframes jelly {
      0% { transform: scale(1); } 30% { transform: scale(0.95, 1.05); } 40% { transform: scale(1.05, 0.95); }
      50% { transform: scale(0.97, 1.03); } 65% { transform: scale(1.02, 0.98); } 75% { transform: scale(0.99, 1.01); } 100% { transform: scale(1); }
    }
    
    .shield-active {
      box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.3), 0 0 20px rgba(255, 215, 0, 0.5) !important;
      border-color: #ffd700 !important;
      animation: shieldPulse 1s ease-out;
    }
    @keyframes shieldPulse { 0% { box-shadow: 0 0 0 0px rgba(255, 215, 0, 0.6); } 100% { box-shadow: 0 0 0 15px rgba(255, 215, 0, 0); } }

    @media (hover: hover) {
      .card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px -5px rgba(50, 50, 93, 0.15), 0 15px 25px -10px rgba(0, 0, 0, 0.1); }
    }
    .card::after { content: ""; position: absolute; top: -8px; left: 50%; transform: translateX(-50%); width: 60px; height: 16px; background: rgba(230, 230, 230, 0.6); border-radius: 2px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); opacity: 0.8; }
    
    .meta-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    
    .daily-tag { 
        font-size: 12px; color: #fff; padding: 4px 12px; border-radius: 12px; 
        background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%); 
        box-shadow: 0 2px 6px rgba(161, 196, 253, 0.4); font-weight: 500; cursor: pointer; transition: all 0.3s;
    }
    .golden-tag {
        background: linear-gradient(135deg, #f6d365 0%, #fda085 100%) !important;
        box-shadow: 0 2px 10px rgba(246, 211, 101, 0.5) !important;
        transform: scale(1.05);
    }

    .category { font-size: 13px; color: #b08a68; font-weight: 500; }

    .content-area { min-height: 140px; display: flex; flex-direction: column; justify-content: center; position: relative; }
    .quote-mark { font-family: "Georgia", serif; font-size: 48px; color: #e0e0e0; position: absolute; top: -10px; left: -10px; line-height: 1; opacity: 0.6; cursor: pointer; transition: transform 0.2s; }
    .quote-mark:active { transform: scale(0.8); color: #FF9A9E; } 

    .content { 
      font-size: 19px; line-height: 1.8; color: #333; text-align: left; position: relative; z-index: 1; font-weight: 400; padding-left: 12px; min-height: 1.8em; 
    }
    .typing-cursor::after { content: '|'; opacity: 1; animation: blink 0.7s infinite; color: #a1c4fd;}
    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

    /* æŒ‰é’® */
    .btn-group { display: flex; gap: 16px; margin-top: 32px; flex-wrap: wrap; }
    .btn { padding: 12px 24px; border-radius: 50px; border: none; font-size: 15px; font-weight: 500; cursor: pointer; transition: all 0.2s ease; outline: none; display: flex; align-items: center; justify-content: center; gap: 6px; }
    .btn-main { background: linear-gradient(135deg, #FF9A9E 0%, #FECFEF 100%); color: white; box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4); flex: 1; }
    .btn-main:active { transform: scale(0.96); }
    .btn-secondary { background: white; color: #888; border: 1px solid #eee; box-shadow: 0 2px 10px rgba(0,0,0,0.03); }
    .btn-secondary:active { background: #f9f9f9; transform: scale(0.96); }
    .btn-breath { width: 100%; background: rgba(161, 196, 253, 0.1); color: #7fa9e6; font-size: 13px; padding: 10px; margin-top: 10px; border: 1px dashed #a1c4fd; }

    /* åº•éƒ¨ */
    .footer { margin-top: auto; font-size: 15px; color: #888; text-align: center; padding-top: 20px; line-height: 1.6; }
    .hidden-love { font-size: 12px; color: #ddd; margin-top: 6px; cursor: pointer; transition: color 0.3s; }
    .hidden-love:hover { color: #ff9a9e; }
    
    .fade-in { animation: fadeIn 0.5s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

    .breath-overlay { position: fixed; inset: 0; background: rgba(255,255,255,0.95); z-index: 100; display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
    .breath-circle { width: 100px; height: 100px; border-radius: 50%; background: #a1c4fd; opacity: 0.5; animation: deepBreath 4s infinite ease-in-out; margin-bottom: 20px; }
    .breath-text { font-size: 16px; color: #555; animation: textFade 4s infinite ease-in-out; }
    @keyframes deepBreath { 0%, 100% { transform: scale(0.8); opacity: 0.3; } 50% { transform: scale(1.5); opacity: 0.7; } }
    @keyframes textFade { 0%, 100% { content: "å¸æ°”..."; opacity: 0.5; } 50% { content: "å‘¼æ°”..."; opacity: 1; } }

    /* è¡¨ç™½å½©è›‹ */
    .love-overlay {
        position: fixed; inset: 0; z-index: 999;
        background: rgba(255, 245, 248, 0.96); backdrop-filter: blur(15px);
        display: none; flex-direction: column; justify-content: center; align-items: center;
        animation: fadeIn 0.8s ease-out; text-align: center;
    }
    .love-content { animation: scaleUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    @keyframes scaleUp { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .big-heart { 
        font-size: 100px; margin-bottom: 20px; 
        filter: drop-shadow(0 10px 20px rgba(255, 107, 129, 0.4));
        animation: heartbeat 1.2s infinite; 
    }
    @keyframes heartbeat { 0% { transform: scale(1); } 15% { transform: scale(1.15); } 30% { transform: scale(1); } 45% { transform: scale(1.15); } 100% { transform: scale(1); } }
    .love-text {
        font-size: 32px; color: #ff6b81; font-weight: bold; line-height: 1.5;
        font-family: "Georgia", "Songti SC", serif; margin-bottom: 30px; letter-spacing: 2px;
    }
    .close-hint { font-size: 14px; color: #aaa; margin-top: 40px; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }

    /* --- âœ¨âœ¨âœ¨ ä¿¡ç¬ºå½©è›‹æ ·å¼ âœ¨âœ¨âœ¨ */
    .letter-overlay {
        position: fixed; inset: 0; z-index: 1000;
        background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px);
        display: none; justify-content: center; align-items: center;
        animation: fadeIn 0.5s ease;
    }
    .letter-paper {
        background: #fffdf5; /* æš–ç™½è‰²çº¸å¼  */
        width: 90%; max-width: 600px;
        max-height: 80vh;
        padding: 40px;
        border-radius: 4px;
        box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        overflow-y: auto;
        position: relative;
        animation: slideUp 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
        font-family: "Georgia", "Songti SC", serif;
        color: #5d4037;
        line-height: 2;
        font-size: 17px;
        background-image: linear-gradient(#e0dcd5 1px, transparent 1px); /* ä¿¡çº¸æ¨ªçº¿ */
        background-size: 100% 40px;
        border: 1px solid #e0dcd5;
    }
    @keyframes slideUp { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    
    .letter-title { font-size: 22px; font-weight: bold; margin-bottom: 30px; text-align: center; border-bottom: 2px solid #5d4037; padding-bottom: 10px; display: inline-block; width: 100%;}
    .letter-content p { margin-bottom: 20px; text-indent: 2em; }
    .letter-close {
        margin-top: 40px; text-align: center; cursor: pointer; color: #999; font-size: 14px; transition: color 0.3s;
    }
    .letter-close:hover { color: #5d4037; }

  </style>
</head>
<body>

  <audio id="bgMusic" src="music.mp3" loop></audio>
  
  <div class="music-btn" id="musicBtn" onclick="toggleMusic()">
    <div class="music-icon">ğŸµ</div>
  </div>

  <div id="loveOverlay" class="love-overlay" onclick="closeLoveOverlay()">
    <div class="love-content">
        <div class="big-heart">â¤ï¸</div>
        <div class="love-text">æˆ‘çœŸçš„ç‰¹åˆ«ç‰¹åˆ«<br>å–œæ¬¢ä½ </div>
        <div class="close-hint">( ç‚¹å‡»ä»»æ„å¤„å›åˆ°ç°å® )</div>
    </div>
  </div>

  <div id="letterOverlay" class="letter-overlay">
    <div class="letter-paper">
        <div class="letter-title">è‡´ è”¡é›¯ä¸½</div>
        <div class="letter-content">
            <p>äº²çˆ±çš„è”¡é›¯ä¸½ï¼š</p>
            <p>è§ä¿¡å¦‚æ™¤ã€‚</p>
            <p>çªç„¶å¾ˆæƒ³å‘Šè¯‰ä½ ï¼Œæˆ‘çœŸçš„å¾ˆå–œæ¬¢ä½ ã€‚</p>
            <p>ä¸æ˜¯é‚£ç§å†™åœ¨å°è¯´é‡ŒæƒŠå¤©åŠ¨åœ°çš„å–œæ¬¢ï¼Œä¹Ÿä¸æ˜¯é‚£ç§ä¸€æ—¶å…´èµ·éšå£è¯´è¯´çš„å–œæ¬¢ã€‚è¿™ç§å–œæ¬¢ï¼Œæ˜¯çœŸçœŸåˆ‡åˆ‡è½åœ¨ç”Ÿæ´»é‡Œçš„ã€‚</p>
            <p>ä»¥å‰æˆ‘è§‰å¾—â€œå–œæ¬¢â€è¿™ä¸ªè¯å¾ˆæŠ½è±¡ï¼Œä½†é‡åˆ°ä½ ä¹‹åï¼Œå®ƒå˜å¾—ç‰¹åˆ«å…·ä½“ã€‚ å®ƒå…·ä½“åˆ°ï¼Œæ¯æ¬¡æ‰‹æœºä¸€éœ‡åŠ¨ï¼Œæˆ‘ç¬¬ä¸€ååº”å°±æ˜¯å¸Œæœ›é‚£æ˜¯ä½ ï¼› å…·ä½“åˆ°ï¼Œæˆ‘åƒåˆ°å¥½åƒçš„é¤é¦†ã€çœ‹åˆ°å¥½ç©çš„æ¢—ã€è·¯è¿‡å¥½çœ‹çš„é£æ™¯ï¼Œå¤§è„‘é‡Œçš„ç¬¬ä¸€ä¸ªå¿µå¤´æ°¸è¿œæ˜¯â€œè¦æ˜¯ä½ åœ¨å°±å¥½äº†â€ï¼Œæˆ–è€…â€œæˆ‘ç°åœ¨å°±è¦æ‹ç»™ä½ çœ‹â€ã€‚</p>
            <p>æˆ‘çŸ¥é“ä½ ä¹ æƒ¯äº†ç‹¬ç«‹ï¼Œä¹ æƒ¯äº†åšå¼ºã€‚ä½†æˆ‘å¸Œæœ›ä½ çŸ¥é“ï¼Œä½ ä¸éœ€è¦æ—¶åˆ»éƒ½é‚£ä¹ˆç´§ç»·ã€‚åœ¨æˆ‘è¿™é‡Œï¼Œä½ å¯ä»¥å½“é‚£ä¸ªä¸ç”¨é•¿å¤§çš„å°å­©ã€‚</p>
            <p>æœªæ¥çš„è·¯å¯èƒ½å¾ˆé•¿ï¼Œä¹Ÿå¯èƒ½å……æ»¡æœªçŸ¥ï¼Œä½†æˆ‘å‘è¿™å—å±å¹•ã€å‘è¿™ä¸ªèµ›åšä¸–ç•Œçš„åœŸåœ°ç¥èµ·èª“ï¼š</p>
            <p>æ— è®ºä½•æ—¶ï¼Œåªè¦ä½ å›å¤´ï¼Œæˆ‘éƒ½åœ¨ã€‚</p>
            <p>æˆ‘å¯¹ä½ çš„å–œæ¬¢ï¼Œå°±æ˜¯ä¸€ç§éå¸¸æ¸…æ™°çš„â€œåå¿ƒâ€ã€‚ åœ¨æ‰€æœ‰äººé‡Œï¼Œæˆ‘æœ€æƒ³å¬ä½ çš„ç¢ç¢å¿µï¼Œæœ€æƒ³å’Œä½ æµªè´¹æ—¶é—´ã€‚å“ªæ€•åªæ˜¯ä¸¤ä¸ªäººååœ¨ä¸€èµ·å‘å‘†ï¼Œæˆ–è€…åœ¨è¡—ä¸Šæ¼«æ— ç›®çš„åœ°èµ°ï¼Œåªè¦èº«è¾¹æ˜¯ä½ ï¼Œæˆ‘å°±è§‰å¾—è¿™æ—¥å­è¿‡å¾—æœ‰æ»‹æœ‰å‘³ã€‚</p>
            <p>è¿™ä¸å†æ˜¯ä»€ä¹ˆéšå–»äº†ï¼Œä¹Ÿä¸éœ€è¦ç”¨ä»€ä¹ˆå¤æ‚çš„è¯è—»å»ä¿®é¥°ã€‚ æˆ‘å°±æ˜¯å•çº¯åœ°ã€ç›´ç™½åœ°è§‰å¾—ï¼Œé‡åˆ°ä½ çœŸå¥½ã€‚ å“ªæ€•ä»Šå¤©æ˜¯ä¸ªé˜´å¤©ï¼Œåªè¦ä¸€æƒ³åˆ°â€œä½†æˆ‘æœ‰ä½ å•Šâ€ï¼Œå¿ƒé‡Œå°±ä¼šäº®å ‚å ‚çš„ã€‚</p>
            <p>æ‰€ä»¥è¯·å¤šç»™æˆ‘ä¸€äº›æ—¶é—´ï¼Œè®©æˆ‘å»è¯æ˜é‚£ä»½å–œæ¬¢</p>
            <p style="text-align: right; margin-top: 40px;">â€”â€” æ— è®ºå¦‚ä½•éƒ½æƒ³å®ˆæŠ¤ç€ä½ çš„çƒ¨</p>
        </div>
        <div class="letter-close" onclick="closeLetterOverlay()">[ æ”¶èµ·ä¿¡ä»¶ ]</div>
    </div>
  </div>

  <div class="bg-gradient-layer"></div>
  <div class="bg-pattern-layer"></div>
  
  <div class="floating-blob blob-1"></div>
  <div class="floating-blob blob-2"></div>
  <div class="floating-blob blob-3"></div>

  <div class="firefly ff-1"></div>
  <div class="firefly ff-2"></div>
  <div class="firefly ff-3"></div>
  <div class="firefly ff-4"></div>

  <div class="side-deco sd-left" onclick="triggerDecoEasterEgg(event)">
    <svg width="180" height="220" viewBox="0 0 180 220" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 220C10 220 30 150 80 100C130 50 170 10 170 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M60 160C60 160 40 140 45 120" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M100 110C100 110 120 90 115 70" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M140 60C140 60 160 40 155 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <circle cx="45" cy="120" r="5" fill="currentColor" opacity="0.6"/>
        <circle cx="115" cy="70" r="4" fill="currentColor" opacity="0.6"/>
        <circle cx="155" cy="20" r="3" fill="currentColor" opacity="0.6"/>
    </svg>
  </div>
  
  <div class="side-deco sd-right-layer2" onclick="triggerDecoEasterEgg(event)">
    <svg width="200" height="240" viewBox="0 0 180 220" fill="none" xmlns="http://www.w3.org/2000/svg" style="transform: scaleX(-1);">
        <path d="M10 220C10 220 30 150 80 100C130 50 170 10 170 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M60 160C60 160 40 140 45 120" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M100 110C100 110 120 90 115 70" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <circle cx="45" cy="120" r="5" fill="currentColor" opacity="0.6"/>
        <circle cx="115" cy="70" r="4" fill="currentColor" opacity="0.6"/>
    </svg>
  </div>
  <div class="side-deco sd-right" onclick="triggerDecoEasterEgg(event)">
    <svg width="180" height="220" viewBox="0 0 180 220" fill="none" xmlns="http://www.w3.org/2000/svg" style="transform: scaleX(-1);">
        <path d="M10 220C10 220 30 150 80 100C130 50 170 10 170 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M60 160C60 160 40 140 45 120" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M100 110C100 110 120 90 115 70" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M140 60C140 60 160 40 155 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <circle cx="45" cy="120" r="5" fill="currentColor" opacity="0.6"/>
        <circle cx="115" cy="70" r="4" fill="currentColor" opacity="0.6"/>
        <circle cx="155" cy="20" r="3" fill="currentColor" opacity="0.6"/>
    </svg>
  </div>

  <div class="time-widget" id="clock">00:00:00</div>

  <div class="breath-overlay" id="breathOverlay" onclick="closeBreath()">
    <div class="breath-circle"></div>
    <div class="breath-text" id="breathText">æ…¢æ…¢å¸æ°”...</div>
    <div style="font-size:12px; color:#999; margin-top:30px;">(ç‚¹å‡»å±å¹•ç»“æŸ)</div>
  </div>

  <div class="container">
    <header class="header">
      <div class="title" onclick="triggerTitleEgg()">åœŸåœ°ç¥çš„å®£è¨€</div>
      <div class="subtitle" id="dynamicSubtitle">è‡´è”¡é›¯ä¸½ æ¯ä¸€ä¸ªç¬é—´æ¯ä¸€ç§å¿ƒæƒ…</div>
    </header>

    <div class="main-layout">
      <div class="side-text left">å…è®¸ä¸€åˆ‡å¦‚å…¶æ‰€æ˜¯</div>
      <div class="card-wrapper">
        <div class="card" id="card" ondblclick="triggerShieldEgg()">
          <div class="meta-row">
            <span class="category" id="category"></span>
            <span class="daily-tag" id="dailyTag" onclick="triggerTagEgg()"></span>
          </div>
          <div class="content-area">
            <div class="quote-mark" onclick="triggerEasterEgg()">â€œ</div>
            <div class="content typing-cursor" id="content"></div>
          </div>
          <div class="btn-group">
            <button class="btn btn-main" onclick="changeMessage(true)"><span>âœ¨ æ¢ä¸€å¥</span></button>
            <button class="btn btn-secondary" onclick="endToday()"><span>ğŸ‘‹ å…ˆè¿™æ ·</span></button>
          </div>
          <button class="btn btn-breath" onclick="startBreath()">ğŸ’¨ è§‰å¾—å¿ƒæ…Œï¼Ÿç‚¹è¿™é‡Œä¸€èµ·æ·±å‘¼å¸</button>
        </div>
      </div>
      <div class="side-text right">ä½ æœ¬å°±å€¼å¾—æ‰€æœ‰ç¾å¥½</div>
    </div>

    <div class="footer">
      è¿™äº›è¯æ˜¯ä¸“é—¨ç•™ç»™ä½ çš„ï¼Œä»€ä¹ˆæ—¶å€™æ¥éƒ½åœ¨ã€‚<br>
      <div class="hidden-love" onclick="triggerLetterEgg()">Made with â¤ for you</div>
    </div>
  </div>

  <script>
    const dailyTags = ["ğŸŒ¸ ä»Šæ—¥å®œï¼šæ”¾è¿‡è‡ªå·±", "ğŸµ ä»Šæ—¥å®œï¼šå–æ¯æ¸©æ°´", "ğŸ’¤ ä»Šæ—¥å®œï¼šæ—©ç‚¹ç¡è§‰", "â›… ä»Šæ—¥å®œï¼šå‘ä¸€ä¼šå„¿å‘†", "âœ¨ ä»Šæ—¥å®œï¼šæ‰¾æˆ‘èŠå¤©", "ğŸˆ ä»Šæ—¥å®œï¼šç›¸ä¿¡ç›´è§‰", "ğŸª ä»Šæ—¥å®œï¼šåƒç‚¹ç”œçš„"];
    
    const messages = [
      { id: 1, category: "æˆ‘åœ¨å‘¢", text: "æˆ‘åœ¨ï¼Œä¸€ç›´éƒ½åœ¨ã€‚" },
      { id: 2, category: "æˆ‘åœ¨å‘¢", text: "ä¸ç”¨å›å¤´ï¼Œæˆ‘å°±åœ¨ä½ ä¼¸æ‰‹å¤Ÿå¾—ç€çš„åœ°æ–¹ã€‚" },
      { id: 3, category: "æˆ‘åœ¨å‘¢", text: "å¦‚æœä¸å¼€å¿ƒï¼Œå°±æŠŠæˆ‘å½“æˆæ ‘æ´å§ï¼Œæˆ‘å˜´å¾ˆä¸¥ã€‚" },
      { id: 4, category: "æˆ‘åœ¨å‘¢", text: "æ²¡ä»€ä¹ˆç‰¹åˆ«çš„äº‹ï¼Œå°±æ˜¯æƒ³å‘Šè¯‰ä½ ï¼Œæˆ‘æƒ³ä½ äº†ã€‚" },
      { id: 7, category: "æˆ‘åœ¨å‘¢", text: "å¦‚æœä½ ä¸æƒ³è¯´è¯ï¼Œé‚£æˆ‘ä»¬å°±ä¸€èµ·å®‰é™ä¸€ä¼šå„¿ã€‚" },
      { id: 8, category: "æˆ‘åœ¨å‘¢", text: "ä¸ç®¡ä½ åšä»€ä¹ˆå†³å®šï¼Œæˆ‘éƒ½ç«™åœ¨ä½ è¿™è¾¹ï¼Œæ— æ¡ä»¶ã€‚" },
      { id: 10, category: "æˆ‘åœ¨å‘¢", text: "ä½ å¾€å‰èµ°å°±å¥½ï¼Œæˆ‘è´Ÿè´£å¸®ä½ å®ˆç€åæ–¹ã€‚" },
      { id: 11, category: "æˆ‘åœ¨å‘¢", text: "æƒ³æˆ‘äº†å°±æ‰¾æˆ‘ï¼Œä¸æƒ³æ‰¾ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ç­‰ç€ã€‚" },
      { id: 12, category: "æˆ‘åœ¨å‘¢", text: "ä»»ä½•æ—¶å€™ï¼Œæƒ³èº²èµ·æ¥çš„æ—¶å€™ï¼Œæˆ‘éƒ½æ˜¯ä½ çš„å®‰å…¨å±‹ã€‚" },
      { id: 13, category: "æˆ‘åœ¨å‘¢", text: "æˆ‘æˆ–è®¸ç»™ä¸äº†å®Œç¾çš„å»ºè®®ï¼Œä½†æˆ‘æœ‰ç»å¯¹çš„è€å¿ƒã€‚" },
      { id: 14, category: "æˆ‘åœ¨å‘¢", text: "ä½ ä¸éœ€è¦å‘æˆ‘è§£é‡Šä»€ä¹ˆï¼Œæˆ‘éƒ½æ‡‚ã€‚" },
      { id: 15, category: "æˆ‘åœ¨å‘¢", text: "æŠŠçƒ¦æ¼åˆ†ä¸€åŠç»™æˆ‘ï¼Œå¿«ä¹ç•™ç»™ä½ è‡ªå·±ã€‚" },
      { id: 16, category: "æˆ‘åœ¨å‘¢", text: "æ— è®ºä½ åœ¨å“ªé‡Œï¼Œæˆ‘çš„é›·è¾¾éƒ½æŒ‡å‘ä½ ã€‚" },
      { id: 17, category: "æˆ‘åœ¨å‘¢", text: "ä½ æ˜¯è‡ªç”±çš„ï¼Œè€Œæˆ‘æ˜¯ä½ æ°¸è¿œçš„å½’å¤„ã€‚" },
      { id: 18, category: "æˆ‘åœ¨å‘¢", text: "æˆ‘ä¸éœ€è¦ä½ ä¸€ç›´å‘å…‰ï¼Œæš—æ·¡çš„æ—¶å€™æˆ‘ä¹Ÿåœ¨ã€‚" },
      { id: 19, category: "æˆ‘åœ¨å‘¢", text: "æ— è®ºå‡ ç‚¹ï¼Œåªè¦ä½ éœ€è¦ï¼Œæˆ‘å°±æœ‰ç©ºã€‚" },
      { id: 20, category: "æˆ‘åœ¨å‘¢", text: "æˆ‘ä¼šä¸€ç›´åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥åå¤å‘æˆ‘ç¡®è®¤ã€‚" },
      { id: 23, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "åˆšåˆšè·¯è¿‡èŠ±åº—ï¼Œè§‰å¾—é‚£æŸèŠ±å¾ˆåƒä½ ã€‚" },
      { id: 24, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "ä»Šå¤©çš„é£å¾ˆèˆ’æœï¼Œé€‚åˆæ•£æ­¥ï¼Œä¹Ÿé€‚åˆæƒ³ä½ ã€‚" },
      { id: 25, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "åˆ«å¿˜äº†å–æ°´ï¼Œè™½ç„¶æ˜¯åºŸè¯ï¼Œä½†æ˜¯æ˜¯çœŸå¿ƒçš„ã€‚" },
      { id: 26, category: "ä¼‘æ¯ä¸€ä¸‹", text: "å¦‚æœç´¯äº†ï¼Œå°±å»æ´—ä¸ªçƒ­æ°´æ¾¡ï¼ŒæŠŠä¸–ç•Œå…³åœ¨é—¨å¤–ã€‚" },
      { id: 27, category: "ä¼‘æ¯ä¸€ä¸‹", text: "å‘¨æœ«å»æ™’æ™’å¤ªé˜³å§ï¼Œä»€ä¹ˆéƒ½ä¸æƒ³çš„é‚£ç§ã€‚" },
      { id: 28, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "çœ‹åˆ°ä¸€ä¸ªå¥½ç¬‘çš„è¡¨æƒ…åŒ…ï¼Œå­˜ä¸‹æ¥å‘ç»™ä½ ã€‚" },
      { id: 30, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "ä½ çš„ç¢ç¢å¿µï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰è¶£ã€‚" },
      { id: 32, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "ä»Šå¤©çš„äº‘å¥½å¯çˆ±ï¼Œåƒæ£‰èŠ±ç³–ï¼Œæƒ³æ‘˜ç»™ä½ ã€‚" },
      { id: 33, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "ç”Ÿæ´»æ€»æœ‰ç¼éš™ï¼Œé‚£æ˜¯å…‰ç…§è¿›æ¥çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æˆ‘æŒ¤è¿›æ¥çš„åœ°æ–¹ã€‚" },
      { id: 35, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "ç»™ä½ ä¹°äº†çˆ±åƒçš„é›¶é£Ÿï¼Œè—åœ¨å£è¢‹é‡Œäº†ã€‚" },
      { id: 36, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "å°±ç®—ä»Šå¤©ä»€ä¹ˆéƒ½æ²¡åšï¼Œä¹Ÿæ˜¯å€¼å¾—è¢«çˆ±çš„ä¸€å¤©ã€‚" },
      { id: 37, category: "ä¼‘æ¯ä¸€ä¸‹", text: "è¢«çªæ˜¯ä¸–ç•Œä¸Šæœ€å®‰å…¨çš„åœ°æ–¹ï¼Œå¿«èº²è¿›å»ã€‚" },
      { id: 38, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "æ‰€æœ‰çš„çƒ¦æ¼ï¼Œéƒ½ç•™ç»™æ˜å¤©å†è¯´å§ã€‚" },
      { id: 39, category: "æˆ‘æ—¶åˆ»æƒ³ç€ä½ ", text: "åªè¦ä½ å¼€å¿ƒï¼Œæˆ‘å°±è§‰å¾—ä»Šå¤©æ˜¯ä¸ªå¥½æ—¥å­ã€‚" },
      { id: 41, category: "æŠ±æŠ±ä½ ", text: "è¾›è‹¦äº†ï¼Œè™½ç„¶æˆ‘çŸ¥é“ä½ ä¸ä¼šè¯´ã€‚" },
      { id: 42, category: "æŠ±æŠ±ä½ ", text: "æˆ‘çŸ¥é“ä½ å¿ƒé‡Œæœ‰æ•°ï¼Œæ‰€ä»¥æˆ‘ä¸åŠä½ ï¼Œæˆ‘åªé™ªä½ ã€‚" },
      { id: 43, category: "æŠ±æŠ±ä½ ", text: "ä½ çš„æ²‰é»˜ï¼Œæˆ‘ä¹Ÿå¬å¾—æ‡‚ã€‚" },
      { id: 44, category: "æŠ±æŠ±ä½ ", text: "ä½ æƒ³åšçš„äº‹ï¼Œå°½ç®¡å»åšï¼Œæç ¸äº†æˆ‘å¸®ä½ æ”¶åœºã€‚" },
      { id: 45, category: "æŠ±æŠ±ä½ ", text: "ä¸éœ€è¦åˆ»æ„åšå¼ºï¼Œå¦‚æœä½ æƒ³å“­ï¼Œå€Ÿä¸ªè‚©è†€ç»™ä½ ã€‚" },
      { id: 47, category: "æŠ±æŠ±ä½ ", text: "ä½ ä¸ç”¨ç…§é¡¾æˆ‘çš„æƒ…ç»ªï¼Œåœ¨æˆ‘è¿™é‡Œï¼Œä½ ä¼˜å…ˆã€‚" },
      { id: 49, category: "æŠ±æŠ±ä½ ", text: "é‚£äº›æ²¡è¯´å‡ºå£çš„è¯ï¼Œæˆ‘éƒ½æ”¶åˆ°äº†ã€‚" },
      { id: 50, category: "æŠ±æŠ±ä½ ", text: "ä½ ä¸ç”¨æ”¹å˜ä»€ä¹ˆï¼Œç°åœ¨çš„ä½ å°±å¾ˆå¥½ã€‚" },
      { id: 51, category: "æŠ±æŠ±ä½ ", text: "æˆ‘ä¸é—®è¿‡ç¨‹ï¼Œæˆ‘åªåœ¨æ„ä½ ç´¯ä¸ç´¯ã€‚" },
      { id: 52, category: "æŠ±æŠ±ä½ ", text: "ä½ æœ‰ä½ çš„è®¡åˆ’ï¼Œæˆ‘æœ‰æˆ‘çš„â€œå®ˆæŠ¤è®¡åˆ’â€ã€‚" },
      { id: 53, category: "æŠ±æŠ±ä½ ", text: "åˆ«æ€•éº»çƒ¦æˆ‘ï¼Œè¢«ä½ éº»çƒ¦ï¼Œæˆ‘å¾ˆä¹æ„ã€‚" },
      { id: 54, category: "æŠ±æŠ±ä½ ", text: "ä½ å°½ç®¡å»é£ï¼Œç´¯äº†è®°å¾—æˆ‘æ˜¯é™†åœ°ã€‚" },
      { id: 55, category: "æŠ±æŠ±ä½ ", text: "æˆ‘ä¸è¯„åˆ¤ä½ çš„å¯¹é”™ï¼Œæˆ‘åªå…³å¿ƒä½ çš„å¿ƒæƒ…ã€‚" },
      { id: 56, category: "æŠ±æŠ±ä½ ", text: "å“ªæ€•å…¨ä¸–ç•Œéƒ½ä¸ç†è§£ä½ ï¼Œæˆ‘ä¹Ÿä¼šç«™åœ¨ä½ èº«è¾¹ã€‚" },
      { id: 59, category: "æŠ±æŠ±ä½ ", text: "æ— è®ºä½ å˜æˆä»€ä¹ˆæ ·ï¼Œæˆ‘å¯¹ä½ çš„çœ‹æ³•éƒ½ä¸ä¼šå˜ã€‚" },
      { id: 60, category: "æŠ±æŠ±ä½ ", text: "æˆ‘çŸ¥é“ä½ å¯ä»¥ä¸€ä¸ªäººæå®šï¼Œä½†ä¸¤ä¸ªäººä¼šè½»æ¾ä¸€ç‚¹ç‚¹ã€‚" },
      { id: 61, category: "å…³äºæœªæ¥", text: "æœªæ¥å¤ªè¿œäº†ï¼Œæˆ‘ä»¬å…ˆçº¦å¥½æ˜å¤©è§ã€‚" },
      { id: 63, category: "å…³äºæœªæ¥", text: "ä½ èµ°ä½ çš„è·¯ï¼Œæˆ‘åšä½ çš„è·¯ç¯ã€‚" },
      { id: 64, category: "å…³äºæœªæ¥", text: "ä¸ç®¡å‰§æœ¬æ€ä¹ˆå†™ï¼Œæˆ‘çš„è§’è‰²è®¾å®šå°±æ˜¯â€œä½ çš„åŒä¼™â€ã€‚" },
      { id: 66, category: "å…³äºæœªæ¥", text: "æˆ‘ä»¬æ…¢æ…¢èµ°ï¼Œä¸ç”¨æ€¥ç€èµ¶è·¯ã€‚" },
      { id: 67, category: "å…³äºæœªæ¥", text: "ä½ è´Ÿè´£è§„åˆ’äººç”Ÿï¼Œæˆ‘è´Ÿè´£ç…§é¡¾ä½ ã€‚" },
      { id: 68, category: "å…³äºæœªæ¥", text: "æ—¶é—´ä¼šè¯æ˜ä¸€åˆ‡ï¼Œä¹Ÿä¼šè¯æ˜æˆ‘ä¼šä¸€ç›´éƒ½åœ¨ã€‚" },
      { id: 69, category: "å…³äºæœªæ¥", text: "å°±ç®—ä¸–ç•Œå˜äº†ï¼Œæˆ‘å¯¹ä½ çš„å¿ƒæ„ä¸ä¼šå˜ã€‚" },
      { id: 70, category: "å…³äºæœªæ¥", text: "æˆ‘ä»¬æ˜¯æ­æ¡£ï¼Œæ˜¯å…±çŠ¯ï¼Œæ˜¯æ°¸è¿œçš„ä¸€é˜Ÿã€‚" },
      { id: 71, category: "å…³äºæœªæ¥", text: "åˆ«æ€•æœªçŸ¥ï¼ŒæœªçŸ¥é‡Œä¹Ÿæœ‰æƒŠå–œï¼Œæ¯”å¦‚æˆ‘å‡†å¤‡çš„æƒŠå–œã€‚" },
      { id: 72, category: "å…³äºæœªæ¥", text: "ä½ ä¸ç”¨å›å¤´çœ‹ï¼Œæˆ‘å°±åœ¨ä½ å½±å­é‡Œã€‚" },
      { id: 73, category: "å…³äºæœªæ¥", text: "æ— è®ºä½ å»å“ªé‡Œï¼Œæˆ‘éƒ½é¡ºè·¯ã€‚" },
      { id: 74, category: "å…³äºæœªæ¥", text: "æˆ‘ä¸æ‰¿è¯ºæ°¸è¿œï¼Œä½†æˆ‘æ‰¿è¯ºæ¯ä¸€ä¸ªå½“ä¸‹ã€‚" },
      { id: 75, category: "å…³äºæœªæ¥", text: "åªè¦ä½ éœ€è¦ï¼Œæˆ‘éšæ—¶å¾…å‘½ã€‚" },
      { id: 77, category: "å…³äºæœªæ¥", text: "æˆ‘ä»¬ä¸èµ¶æ—¶é—´ï¼Œæˆ‘ä»¬æœ‰ä¸€è¾ˆå­çš„æ—¶é—´ã€‚" },
      { id: 78, category: "å…³äºæœªæ¥", text: "ä½ æƒ³å»çš„åœ°æ–¹ï¼Œæˆ‘éƒ½æƒ³é™ªä½ å»ã€‚" },
      { id: 80, category: "å…³äºæœªæ¥", text: "ä½ åªç®¡å¾€å‰çœ‹ï¼Œæˆ‘å°±æ˜¯ä½ çš„åè§†é•œã€‚" },
      { id: 81, category: "ç¥ä¹è¯´", text: "åªè¦è‚šå­åƒé¥±äº†ï¼Œå°±æ²¡æœ‰è¿‡ä¸å»çš„åï¼Œé˜¿é²ï¼" },
      { id: 82, category: "ç¥ä¹è¯´", text: "ä»Šå¤©æœ¬æƒ³æ‹¯æ•‘ä¸–ç•Œï¼Œä½†è¿˜æ˜¯å†³å®šå…ˆé™ªä½ å‘å‘†ã€‚" },
      { id: 83, category: "ç¥ä¹è¯´", text: "è°æ•¢æ¬ºè´Ÿä½ ï¼Œæˆ‘å°±å»å’¬ä»–ï¼" },
      { id: 84, category: "ç¥ä¹è¯´", text: "åˆ«çš±çœ‰å•¦ï¼Œä¼šæŠŠå¥½è¿æ°”å“è·‘çš„ã€‚" },
      { id: 85, category: "ç¥ä¹è¯´", text: "æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œå¤§ä¸äº†æˆ‘ä»¬å»åƒé†‹æ˜†å¸ƒã€‚" },
      { id: 86, category: "ç¥ä¹è¯´", text: "ä½ æ˜¯ç¬¨è›‹å—ï¼Ÿæœ‰æˆ‘åœ¨æ‹…å¿ƒä»€ä¹ˆå•Šã€‚" },
      { id: 87, category: "ç¥ä¹è¯´", text: "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œé€‚åˆå·æ‡’ï¼Œé€‚åˆæƒ³ä½ ã€‚" },
      { id: 88, category: "ç¥ä¹è¯´", text: "æ—¢ç„¶æ´»ç€ï¼Œå°±è¦å¼€å¿ƒåœ°æµªè´¹æ—¶é—´å•Šã€‚" },
      { id: 89, category: "ç¥ä¹è¯´", text: "æŠŠçƒ¦æ¼ç»Ÿç»Ÿæ‰“é£ï¼" },
      { id: 90, category: "ç¥ä¹è¯´", text: "ä½ ä¸ç”¨å˜å¼ºï¼Œå› ä¸ºæˆ‘å¾ˆæŠ—æï¼Œæˆ‘å¯ä»¥ä¿æŠ¤ä½ ã€‚" },
      { id: 91, category: "ç¥ä¹è¯´", text: "è·Ÿæˆ‘èµ°å§ï¼Œå¸¦ä½ å»åƒå¥½åƒçš„ã€‚" },
      { id: 92, category: "ç¥ä¹è¯´", text: "åˆ«æƒ³é‚£ä¹ˆå¤šäº†ï¼Œè„‘è¢‹ä¼šçˆ†ç‚¸çš„ã€‚" },
      { id: 93, category: "ç¥ä¹è¯´", text: "å°±ç®—ä½ æ˜¯è€å¤ªå©†ï¼Œæˆ‘ä¹Ÿè§‰å¾—ä½ æœ€å¯çˆ±ã€‚" },
      { id: 94, category: "ç¥ä¹è¯´", text: "ä»Šå¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©ï¼ˆå› ä¸ºæœ‰ä½ ï¼‰ã€‚" },
      { id: 95, category: "ç¥ä¹è¯´", text: "åˆ«ä¸§äº†ï¼Œæˆ‘çš„èƒ½é‡åˆ†ä½ ä¸€åŠã€‚" },
      { id: 96, category: "ç¥ä¹è¯´", text: "æ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œæˆ‘ä»¬éƒ½æ˜¯æœ€å¼ºç»„åˆã€‚" },
      { id: 97, category: "ç¥ä¹è¯´", text: "å“ªæ€•æ˜¯ä¸–ç•Œæœ«æ—¥ï¼Œæˆ‘ä»¬ä¹Ÿè¦ä¸€èµ·çœ‹çƒŸèŠ±ã€‚" },
      { id: 98, category: "ç¥ä¹è¯´", text: "ä½ çš„ç¬‘å®¹ï¼Œç”±æˆ‘æ¥å®ˆæŠ¤ã€‚" },
      { id: 99, category: "ç¥ä¹è¯´", text: "èµ°å§ï¼Œå»å†’é™©ï¼Œæˆ–è€…å»ç¡è§‰ã€‚" },
      { id: 100, category: "ç¥ä¹è¯´", text: "æ— è®ºæ€æ ·ï¼Œæˆ‘æœ€å–œæ¬¢ä½ äº†ï¼Œé˜¿é²ï¼" }
    ];

    let lastId = null;
    function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    
    function getMessage() {
      let msg; let attempts = 0;
      do { msg = getRandom(messages); attempts++; } while (msg.id === lastId && attempts < 5);
      lastId = msg.id; return msg;
    }
    
    let typingTimer;
    function typeWriter(text, elementId, speed = 70) {
        const element = document.getElementById(elementId);
        element.innerHTML = ""; 
        element.classList.add("typing-cursor"); 
        clearTimeout(typingTimer);
        let i = 0;
        function typing() {
            if (i < text.length) {
                element.innerHTML += text.charAt(i);
                i++;
                typingTimer = setTimeout(typing, speed);
            } else {
                element.classList.remove("typing-cursor");
            }
        }
        typing();
    }

    function changeMessage(isManual) {
      const msg = getMessage();
      const card = document.getElementById("card");
      const categoryEl = document.getElementById("category");
      const tagEl = document.getElementById("dailyTag");
      
      tagEl.classList.remove('golden-tag');

      if (isManual) { 
        card.classList.remove("jelly-anim");
        void card.offsetWidth; 
        card.classList.add("jelly-anim");
      }
      
      categoryEl.textContent = msg.category;
      tagEl.textContent = getRandom(dailyTags);
      typeWriter(msg.text, "content");
    }
    
    function endToday() { const btn = document.querySelector('.btn-secondary'); btn.textContent = "æ‹œæ‹œ ğŸŒ™"; btn.style.background = "#f0f0f0"; alert("é‚£å°±å…ˆè¿™æ ·å§ï¼Œè®°å¾—å¯¹è‡ªå·±å¥½ä¸€ç‚¹ï¼Œä¸€å®šè®°å¾—è¦å›æ¥çœ‹æˆ‘å“¦à²¥_à²¥"); }
    
    let breathTimer; const breathTextEl = document.getElementById("breathText");
    function startBreath() { document.getElementById("breathOverlay").style.display = "flex"; let isInhaling = true; breathTextEl.textContent = "æ…¢æ…¢å¸æ°”..."; breathTimer = setInterval(() => { isInhaling = !isInhaling; breathTextEl.textContent = isInhaling ? "æ…¢æ…¢å¸æ°”..." : "ç¼“ç¼“å‘¼æ°”..."; }, 2000); }
    function closeBreath() { document.getElementById("breathOverlay").style.display = "none"; clearInterval(breathTimer); }

    const clickWords = ["å®‰ç¨³", "å‹‡æ°”", "é¡ºåˆ©", "è‡ªåœ¨", "å¼€å¿ƒ", "å¥½è¿", "ä¸æ…Œ", "åŠ æ²¹"];
    document.addEventListener('click', function(e) {
      if (e.target.closest('button') || e.target.closest('.hidden-love') || e.target.closest('.quote-mark') || e.target.closest('.music-btn') || e.target.closest('.side-deco') || e.target.closest('.daily-tag') || e.target.closest('.title')) return; 
      const word = document.createElement('div');
      word.classList.add('click-word');
      word.textContent = getRandom(clickWords); 
      word.style.left = (e.clientX - 20) + 'px'; 
      word.style.top = (e.clientY - 20) + 'px';
      document.body.appendChild(word);
      setTimeout(() => { word.remove(); }, 1500);
    });

    /* --- âœ¨âœ¨âœ¨ å½©è›‹1ï¼šæ ‡ç­¾å¼ºè¿ä¿®æ”¹å™¨ âœ¨âœ¨âœ¨ */
    function triggerTagEgg() {
        const tagEl = document.getElementById("dailyTag");
        if (!tagEl.classList.contains('golden-tag')) {
            tagEl.classList.add('golden-tag');
            tagEl.textContent = "âœ¨ ä»Šæ—¥å®œï¼šä¸‡äº‹èƒœæ„ âœ¨";
            
            const rect = tagEl.getBoundingClientRect();
            spawnStar(rect.left + rect.width/2, rect.top);
        }
    }

 /* --- âœ¨âœ¨âœ¨ å½©è›‹2ï¼šæ ‡é¢˜ä¾›å“æ‰è½ (æ”¹æˆ2æ¬¡) âœ¨âœ¨âœ¨ */
    let titleClickCount = 0;
    let titleTimer;
    function triggerTitleEgg() {
        titleClickCount++;
        clearTimeout(titleTimer);
        // è®¾ç½® 500ms çš„é—´éš”ï¼Œæ¨¡æ‹Ÿâ€œåŒå‡»â€çš„æ„Ÿè§‰
        titleTimer = setTimeout(() => { titleClickCount = 0; }, 500);
        
        // âœ¨ ä¿®æ”¹ç‚¹ï¼šæŠŠ 7 æ”¹æˆäº† 2
        if (titleClickCount === 2) {
            spawnOfferings();
            titleClickCount = 0;
        }
    }
    function spawnOfferings() {
        const emojis = ['ğŸ¬', 'ğŸ', 'ğŸµ', 'ğŸ®', 'ğŸŠ', 'ğŸª'];
        for(let i=0; i<15; i++) {
            const el = document.createElement('div');
            el.classList.add('falling-emoji');
            el.textContent = getRandom(emojis);
            el.style.left = Math.random() * 90 + 'vw';
            el.style.animationDuration = (1.5 + Math.random()) + 's';
            el.style.animationDelay = Math.random() * 0.5 + 's';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 3000);
        }
    }

    /* --- âœ¨âœ¨âœ¨ å½©è›‹3ï¼šåŒå‡»å¡ç‰‡ç»“ç•Œ âœ¨âœ¨âœ¨ */
    function triggerShieldEgg() {
        const card = document.getElementById("card");
        if (!card.classList.contains('shield-active')) {
            card.classList.add('shield-active');
            setTimeout(() => { card.classList.remove('shield-active'); }, 1000);
        }
    }

    /* ææ¡ äº’åŠ¨ */
    function triggerDecoEasterEgg(e) {
        e.stopPropagation(); 
        for (let i = 0; i < 8; i++) spawnParticle(e.clientX, e.clientY);
        if (Math.random() > 0.5) spawnStar(e.clientX, e.clientY);
    }
    function spawnParticle(x, y) {
        const particle = document.createElement('div');
        particle.classList.add('deco-particle');
        document.body.appendChild(particle);
        const angle = Math.random() * Math.PI * 2;
        const distance = 30 + Math.random() * 50;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance - 50; 
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';
        particle.style.setProperty('--tx', `${tx}px`);
        particle.style.setProperty('--ty', `${ty}px`);
        setTimeout(() => particle.remove(), 1200);
    }
    function spawnStar(x, y) {
        const star = document.createElement('div');
        star.classList.add('deco-star');
        star.textContent = 'âœ¨';
        document.body.appendChild(star);
        const tx = (Math.random() - 0.5) * 60;
        const ty = -60 - Math.random() * 40; 
        star.style.left = (x - 5) + 'px';
        star.style.top = (y - 10) + 'px';
        star.style.setProperty('--tx', `${tx}px`);
        star.style.setProperty('--ty', `${ty}px`);
        setTimeout(() => star.remove(), 1500);
    }

    function updateTimeGreeting() {
      const hour = new Date().getHours();
      const subTitle = document.getElementById('dynamicSubtitle');
      let greeting = "è‡´è”¡é›¯ä¸½ æ¯ä¸€ä¸ªç¬é—´æ¯ä¸€ç§å¿ƒæƒ…"; 
      if (hour >= 5 && hour < 9) greeting = "æ—©ä¸Šå¥½å•ŠÎ¾( âœ¿ï¼â—¡â›)ï¼Œä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦";
      else if (hour >= 11 && hour < 13) greeting = "ä¸­åˆäº†áƒš(ãƒ»Â´ï½ª`ãƒ»áƒš)ï¼Œè®°å¾—æŒ‰æ—¶åƒé¥­";
      else if (hour >= 23 || hour < 5) greeting = "å¤œæ·±äº†(Â´-Ï‰-ï½€)ï¼Œæ—©ç‚¹ä¼‘æ¯å§";
      else if (hour >= 13 && hour < 17) greeting ="ä¸‹åˆå¥½å‘€Î¾( âœ¿ï¼â—¡â›)ï¼Œæ„‰å¿«åœ°åº¦è¿‡å§";
      else if (hour >= 17 && hour < 19) greeting ="æ™šé¥­æ—¶é—´åˆ°äº†(`ãƒ»Ï‰ãƒ»Â´)ï¼Œè¦å¥½å¥½åƒé¥­";
      if (hour < 13 || hour >= 23) { subTitle.textContent = greeting; }
    }

    function updateClock() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('en-GB', { hour12: false });
      document.getElementById('clock').textContent = timeString;
    }

    const music = document.getElementById('bgMusic');
    const musicBtn = document.getElementById('musicBtn');
    function toggleMusic() {
      if (music.paused) {
        music.play();
        musicBtn.classList.add('music-playing');
      } else {
        music.pause();
        musicBtn.classList.remove('music-playing');
      }
    }
    document.body.addEventListener('click', function() {
      if (music.paused && !musicBtn.classList.contains('music-playing')) {
        music.play().then(() => {
          musicBtn.classList.add('music-playing');
        }).catch(e => console.log("ç­‰å¾…äº¤äº’"));
      }
    }, { once: true });

    /* åº•éƒ¨å½©è›‹é€»è¾‘ (åˆå¹¶å•å‡»å’Œ7è¿å‡») */
    const secretLove = ["å…¶å®ï¼Œæˆ‘ä¸€ç›´éƒ½åœ¨ã€‚", "è¿™é‡Œæ°¸è¿œæ˜¯ä½ çš„é¿é£æ¸¯ã€‚", "ä¸ç”¨é€å¼ºï¼Œæœ‰æˆ‘åœ¨å‘¢ã€‚", "ä½ å‘å…‰çš„æ ·å­å¾ˆç¾ï¼Œå‘å‘†ä¹Ÿæ˜¯ã€‚"];
    let letterClickCount = 0;
    let letterTimer;
    let textResetTimer; // ç”¨äºé‡ç½®çŸ­å¥

    function triggerLetterEgg() {
      const loveEl = document.querySelector('.hidden-love');
      
      // 1. è®¡æ•°
      letterClickCount++;

      // 2. æ¯æ¬¡ç‚¹å‡»éƒ½è§¦å‘çŸ­å¥ (å•æœºåé¦ˆ)
      loveEl.textContent = getRandom(secretLove);
      loveEl.style.color = "#ff9a9e";

      // 3. å¤„ç†è¿å‡»è®¡æ—¶ (500mså†…ä¸ç‚¹å°±é‡ç½®è®¡æ•°)
      clearTimeout(letterTimer);
      letterTimer = setTimeout(() => {
        letterClickCount = 0;
      }, 500);

      // 4. å¤„ç†æ–‡å­—æ¢å¤è®¡æ—¶ (3ç§’åå˜å›åŸæ ·)
      clearTimeout(textResetTimer);
      textResetTimer = setTimeout(() => {
        loveEl.textContent = "Made with â¤ for you"; 
        loveEl.style.color = "#ddd";
      }, 3000);

      // 5. è§¦å‘7è¿å‡»å½©è›‹
      if (letterClickCount === 7) {
        document.getElementById('letterOverlay').style.display = 'flex';
        letterClickCount = 0; // é‡ç½®
      }
    }

    /* æ•²å¼€å¿ƒé—¨å½©è›‹ (7æ¬¡) */
    let clickCount = 0;
    let clickTimer;
    function triggerEasterEgg() {
      clickCount++;
      clearTimeout(clickTimer);
      clickTimer = setTimeout(() => { clickCount = 0; }, 500);
      if (clickCount === 7) {
        document.getElementById('loveOverlay').style.display = 'flex';
        clickCount = 0;
      }
    }
    function closeLoveOverlay() {
        document.getElementById('loveOverlay').style.display = 'none';
    }
    function closeLetterOverlay() {
        document.getElementById('letterOverlay').style.display = 'none';
    }

    window.onload = function() { 
      changeMessage(false); 
      document.getElementById("card").classList.add("fade-in");
      updateTimeGreeting(); 
      updateClock();
      setInterval(updateClock, 1000);
    };
  </script>
</body>
</html>